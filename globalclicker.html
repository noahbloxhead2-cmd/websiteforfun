<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Global Clicker</title>

<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #111;
    color: white;
    text-align: center;
    padding-top: 40px;
  }

  #wrap {
    animation: pulseBG 6s infinite alternate;
    padding: 20px;
  }

  #count {
    font-size: 4rem;
    margin-bottom: 30px;
    color: white;
    text-shadow: 0 0 20px rgba(255,255,255,0.4);
    transition: 0.2s;
  }

  #clickBtn {
    padding: 20px 40px;
    font-size: 28px;
    border: none;
    border-radius: 20px;
    background: linear-gradient(135deg,#4CAF50,#3e8e41);
    color: white;
    cursor: pointer;
    width: 22vw;
    height: 22vh;
    box-shadow: 0 0 20px rgba(0,255,0,0.4);
    transition: transform 0.15s, box-shadow 0.2s;
  }

  #clickBtn:hover {
    box-shadow: 0 0 30px rgba(0,255,0,0.7);
  }

  #clickBtn:active {
    transform: scale(0.92);
  }

  @keyframes pulseBG {
    from { background: rgba(0,0,0,0.2); }
    to   { background: rgba(0,0,0,0.35); }
  }
</style>
</head>

<body>

<div id="wrap">
  <h1 id="count">Loading...</h1>

  <button id="clickBtn">
    Click
  </button>
</div>

<!-- Firebase Compat SDKs (Google Sites compatible) -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyDx_P6m-wW68dfFfH3Yn8S6H3lXlNDg62g",
    authDomain: "project1-bad96.firebaseapp.com",
    projectId: "project1-bad96",
    storageBucket: "project1-bad96.firebasestorage.app",
    messagingSenderId: "1061798946964",
    appId: "1:1061798946964:web:6d5e24253b4146af522c81",
    measurementId: "G-E6S5VB594P",
    databaseURL: "https://project1-bad96-default-rtdb.firebaseio.com/"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();
  const countRef = db.ref("GlobalClicks");

  // Live updates
  countRef.on("value", snap => {
    const el = document.getElementById("count");
    el.style.transform = "scale(1.15)";
    el.innerText = snap.val();
    setTimeout(() => el.style.transform = "scale(1)", 150);
  });

  // Button click
  document.getElementById("clickBtn").onclick = function(){
    countRef.transaction(n => (n || 0) + 1);
  };
</script>

</body>
</html>
